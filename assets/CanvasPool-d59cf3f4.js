import{D as r,n as s,__tla as h}from"./index-77dcad62.js";let c,i=Promise.all([(()=>{try{return h}catch{}})()]).then(async()=>{class l{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const n=r.get().createCanvas();n.width=t,n.height=e;const a=n.getContext("2d");return{canvas:n,context:a}}getOptimalCanvasAndContext(t,e,n=1){t=Math.ceil(t*n-1e-6),e=Math.ceil(e*n-1e-6),t=s(t),e=s(e);const a=(t<<17)+(e<<1);this._canvasPool[a]||(this._canvasPool[a]=[]);let o=this._canvasPool[a].pop();return o||(o=this._createCanvasAndContext(t,e)),o}returnCanvasAndContext(t){const e=t.canvas,{width:n,height:a}=e,o=(n<<17)+(a<<1);this._canvasPool[o].push(t)}clear(){this._canvasPool={}}}c=new l});export{c as C,i as __tla};
